<header class="sticky top-0 z-50 w-full bg-background/95 backdrop-blur border-b border-border shadow-md">
    <div class="container mx-auto px-4 h-20 md:h-24 flex items-center justify-between">
        <div class="flex items-center space-x-6 md:space-x-10">
            <div class="flex items-center">
                <!-- Logo đầy đủ với kích thước tối ưu -->
                <a href="@Url.Action("Index", "Home")" class="w-[75px] md:w-[97px]">
                    <img src="/images/monAmour-logo.webp" alt="Mon Amour Logo"
                         class="w-full h-auto object-contain transition-transform duration-300 hover:scale-105" />
                </a>
            </div>
            <nav class="hidden md:flex items-center space-x-2">
                <a href="@Url.Action("Index", "Home")" class="text-sm md:text-xl whitespace-nowrap font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 px-3 py-2 md:px-4 md:py-3 rounded-lg h-full flex items-center @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Home" && ViewContext.RouteData.Values["Action"]?.ToString() == "Index" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                    Trang Chủ
                </a>
                <a href="@Url.Action("ListConcept", "Concept")" class="text-sm md:text-xl whitespace-nowrap font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 px-3 py-2 md:px-4 md:py-3 rounded-lg h-full flex items-center @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Concept" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                    Kế Hoạch Hẹn Hò
                </a>
                <a href="@Url.Action("ListGiftbox", "Gift_box")" class="text-sm md:text-xl whitespace-nowrap font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 px-3 py-2 md:px-4 md:py-3 rounded-lg h-full flex items-center @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Gift_box" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                    Hộp Quà
                </a>
                <a href="@Url.Action("Index", "Blog")" class="text-sm md:text-xl whitespace-nowrap font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 px-3 py-2 md:px-4 md:py-3 rounded-lg h-full flex items-center @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Blog" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                    Blog
                </a>
                <a href="@Url.Action("Index", "AboutUs")" class="text-sm md:text-xl whitespace-nowrap font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 px-3 py-2 md:px-4 md:py-3 rounded-lg h-full flex items-center @(ViewContext.RouteData.Values["Controller"]?.ToString() == "AboutUs" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                    Về Chúng Tôi
                </a>
                <a href="@Url.Action("Consultation", "Home")" class="text-sm md:text-xl whitespace-nowrap font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 px-3 py-2 md:px-4 md:py-3 rounded-lg h-full flex items-center @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Home" && ViewContext.RouteData.Values["Action"]?.ToString() == "Consultation" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                    Liên Hệ Tư Vấn
                </a>
            </nav>
        </div>
        <div class="flex items-center space-x-4">

            @if (ViewBag.IsLoggedIn == true)
            {
                <a href="@Url.Action("Index", "Cart")" class="relative inline-flex items-center justify-center w-10 h-10 rounded-full bg-beige text-wine-red hover:bg-beige/80 border border-wine-red/20" title="Giỏ hàng">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                        <path d="M2.25 3a.75.75 0 000 1.5h1.596c.26 0 .49.167.57.413l2.805 8.415a2.25 2.25 0 002.137 1.522h7.017a2.25 2.25 0 002.137-1.522l1.93-5.79A.75.75 0 0019.25 6H6.866l-.6-1.8A2.25 2.25 0 003.846 3H2.25z" />
                        <path d="M9 20.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM17.25 20.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" />
                    </svg>
                </a>
            }
            @await Html.PartialAsync("_UserMenu")

            <button onclick="toggleMobileMenu()" class="md:hidden p-2 text-muted-foreground hover:text-primary">
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>
    </div>

    <div id="mobile-menu" class="hidden md:hidden border-t border-border bg-background/95 backdrop-blur shadow-lg">
        <nav class="container mx-auto px-4 py-6 space-y-2">
            <a href="@Url.Action("Index", "Home")" class="block py-4 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg px-4 @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Home" && ViewContext.RouteData.Values["Action"]?.ToString() == "Index" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                Trang Chủ
            </a>
            <a href="@Url.Action("Index", "AboutUs")" class="block py-4 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg px-4 @(ViewContext.RouteData.Values["Controller"]?.ToString() == "AboutUs" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                Về Chúng Tôi
            </a>
            <a href="@Url.Action("ListConcept", "Concept")" class="block py-4 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg px-4 @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Concept" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                Kế Hoạch Hẹn Hò
            </a>
            <a href="@Url.Action("ListGiftbox", "Gift_box")" class="block py-4 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg px-4 @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Gift_box" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                Hộp Quà
            </a>
            <a href="@Url.Action("Index", "Blog")" class="block py-4 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg px-4 @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Blog" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                Blog
            </a>
            <a href="@Url.Action("Consultation", "Home")" class="block py-4 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg px-4 @(ViewContext.RouteData.Values["Controller"]?.ToString() == "Home" && ViewContext.RouteData.Values["Action"]?.ToString() == "Consultation" ? "bg-[#62000d] text-[#fbf1e6] shadow-lg" : "hover:bg-[#fbf1e6]")">
                Liên Hệ Tư Vấn
            </a>

            <div class="pt-4 mt-4 border-t border-border">
                @await Html.PartialAsync("_UserMenu")
                
                @if (ViewBag.IsLoggedIn != true)
                {
                    <!-- Mobile Login/Signup Buttons -->
                    <div class="flex flex-col space-y-2 mt-4 px-4">
                        <a href="@Url.Action("Login", "Auth")" class="block py-3 text-lg font-semibold text-[#62000d] hover:text-[#4a0009] transition-all duration-300 rounded-lg hover:bg-[#fbf1e6] text-center">
                            Đăng nhập
                        </a>
                        <a href="@Url.Action("Signup", "Auth")" class="block py-3 text-lg font-semibold bg-[#62000d] text-[#fbf1e6] rounded-lg hover:bg-[#4a0009] transition-all duration-300 text-center">
                            Đăng ký
                        </a>
                    </div>
                }
            </div>
        </nav>
    </div>
</header>